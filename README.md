# Discord Voice Diary Bot

<div align="center">

[![Python 3.12](https://img.shields.io/badge/Python-3.12-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED.svg?logo=docker)](https://www.docker.com/)
[![Tests](https://img.shields.io/badge/Tests-28%20Passed-success.svg)]()
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

Discordã®éŸ³å£°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•å‡¦ç†ã™ã‚‹å¤šæ©Ÿèƒ½Bot

[English](./README_EN.md) | æ—¥æœ¬èª

</div>

---

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#-æ¦‚è¦)
- [ä¸»è¦æ©Ÿèƒ½](#-ä¸»è¦æ©Ÿèƒ½)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ä½¿ç”¨æ–¹æ³•](#-ä½¿ç”¨æ–¹æ³•)
- [è¨­å®š](#-è¨­å®š)
- [é–‹ç™º](#-é–‹ç™º)
- [ãƒ†ã‚¹ãƒˆ](#-ãƒ†ã‚¹ãƒˆ)
- [ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#-ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)

---

## ğŸ¯ æ¦‚è¦

Discord Voice Diary Botã¯ã€Discordã«æŠ•ç¨¿ã•ã‚ŒãŸéŸ³å£°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã§è‡ªå‹•å‡¦ç†ã™ã‚‹Botã§ã™ï¼š

1. **å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰**: éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èƒŒæ™¯ç”»åƒä»˜ãMP4å‹•ç”»ã«å¤‰æ›
2. **æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰**: Whisper AIã‚’ä½¿ç”¨ã—ã¦éŸ³å£°ã‚’ãƒ†ã‚­ã‚¹ãƒˆåŒ–ã—ã€Obsidianå½¢å¼ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜

ã“ã®Botã¯ã€éŸ³å£°æ—¥è¨˜ã®ç®¡ç†ã‚„ã€ä¼šè­°ã®è­°äº‹éŒ²ä½œæˆã€ãƒœã‚¤ã‚¹ãƒ¡ãƒ¢ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãªã©ã€æ§˜ã€…ãªç”¨é€”ã§æ´»ç”¨ã§ãã¾ã™ã€‚

---

## âœ¨ ä¸»è¦æ©Ÿèƒ½

### ğŸ¬ å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰

- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆM4Aã€WAVã€OGGãªã©ï¼‰ã‚’è‡ªå‹•æ¤œçŸ¥
- FFmpegã‚’ä½¿ç”¨ã—ãŸé«˜é€Ÿå‹•ç”»å¤‰æ›
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªèƒŒæ™¯ç”»åƒ
- éŸ³è³ªèª¿æ•´ï¼ˆ64-128 kbpsï¼‰
- è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### ğŸ¤ æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰

- **Whisper AIçµ±åˆ**: OpenAI Whisper APIã«ã‚ˆã‚‹é«˜ç²¾åº¦æ–‡å­—èµ·ã“ã—
- **Obsidian Daily Noteå½¢å¼**: è‡ªå‹•çš„ã«æ—¥ä»˜ã”ã¨ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
- **ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¯¾å¿œ**: YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã§ã‚¿ã‚°ç®¡ç†
- **è¿½è¨˜æ©Ÿèƒ½**: åŒæ—¥ã®éŸ³å£°ã¯è‡ªå‹•çš„ã«åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½è¨˜
- **æ—¥æœ¬èªå¯¾å¿œ**: æ—¥æœ¬èªéŸ³å£°ã®é«˜ç²¾åº¦èªè­˜

#### Markdownå‡ºåŠ›ä¾‹

```markdown
---
tags:
  - æ—¥è¨˜
---

[[2025]] / [[2025-Q4|Q4]] / [[2025-10|10æœˆ]]
â® [[2025-W40|Week 40]] | Week 41 | [[2025-W42|Week 42]] â¯
[[2025-10-06|06]] - [[2025-10-07|07]] - [[2025-10-08|08]] - ...

## 15:30:45 - voice-message.ogg

æœé‡ã¨ã‚‚ã¿ã§ã™ ä»Šæ—¥ã®æ±äº¬æ ªå¼å¸‚å ´ã§æ—¥çµŒå¹³å‡æ ªä¾¡ã¯...
```

---

## ğŸ— ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Discord Server                        â”‚
â”‚                    (#voice-inbox channel)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Audio Upload
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Discord Voice Diary Bot                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Bot Controller                     â”‚  â”‚
â”‚  â”‚              (Mode: VIDEO / TRANSCRIPTION)            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                             â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Video Mode      â”‚       â”‚  Transcription Mode     â”‚   â”‚
â”‚  â”‚                   â”‚       â”‚                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   FFmpeg    â”‚ â”‚       â”‚  â”‚  Whisper Server  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Runner    â”‚ â”‚       â”‚  â”‚   (GPU-powered)  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚         â”‚         â”‚       â”‚           â”‚            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                             â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Storage Manager â”‚       â”‚ Markdown Generator     â”‚   â”‚
â”‚  â”‚   (MP4 Videos)    â”‚       â”‚ (Obsidian Format)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                  â”‚
         â–¼                                  â–¼
   ./data/output/              ./transcriptions/
   video_YYYYMMDD.mp4          YYYY-MM-DD.md
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- **Bot Controller**: Discordã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã¨ãƒ¢ãƒ¼ãƒ‰æŒ¯ã‚Šåˆ†ã‘
- **FFmpeg Runner**: å‹•ç”»å¤‰æ›å‡¦ç†ï¼ˆéåŒæœŸå®Ÿè¡Œã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†ï¼‰
- **Transcription Handler**: Whisper APIé€£æºã¨Markdownç”Ÿæˆ
- **Storage Manager**: ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

---

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Backend

- **Python 3.12**: å‹ãƒ’ãƒ³ãƒˆå®Œå…¨å¯¾å¿œ
- **discord.py**: Discord APIçµ±åˆ
- **aiohttp**: éåŒæœŸHTTPé€šä¿¡
- **FFmpeg**: å‹•ç”»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- **Whisper AI**: éŸ³å£°èªè­˜ï¼ˆfaster-whisper-serverï¼‰

### Development Tools

- **uv**: é«˜é€Ÿãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
- **Ruff**: ãƒªãƒ³ã‚¿ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **mypy**: é™çš„å‹ãƒã‚§ãƒƒã‚¯
- **pytest**: ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆ28ãƒ†ã‚¹ãƒˆï¼‰
- **pre-commit**: ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†

### Infrastructure

- **Docker & Docker Compose**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–
- **VSCode DevContainer**: é–‹ç™ºç’°å¢ƒ
- **NVIDIA Docker**: GPUå¯¾å¿œï¼ˆæ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰ï¼‰

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Docker & Docker Compose
- Discord Bot Token
- ï¼ˆæ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰ä½¿ç”¨æ™‚ï¼‰NVIDIA GPU & nvidia-docker

> **æ³¨æ„**: æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§GPUã‚’ä½¿ç”¨ã™ã‚‹è¨­å®šã«ãªã£ã¦ã„ã¾ã™ã€‚CPUã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€`docker-compose.transcription.yml`ã®è¨­å®šå¤‰æ›´ãŒå¿…è¦ã§ã™ã€‚

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/yourusername/voice-diary-bot.git
cd voice-diary-bot
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ï¼š

```bash
# å¿…é ˆè¨­å®š
DISCORD_TOKEN=your_discord_bot_token_here
CHANNEL_ID=123456789012345678

# ãƒ¢ãƒ¼ãƒ‰é¸æŠ
BOT_MODE=video  # ã¾ãŸã¯ transcription

# æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰è¨­å®šï¼ˆtranscriptionæ™‚ã®ã¿ï¼‰
WHISPER_API_URL=http://faster-whisper-server:8000
WHISPER_MODEL=Systran/faster-whisper-medium
TRANSCRIPTION_OUTPUT_DIR=/transcriptions
```

### 3. èµ·å‹•

#### å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰

```bash
docker-compose up -d
```

#### æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰

```bash
docker-compose -f docker-compose.transcription.yml up -d
```

> **æ³¨æ„**: GPUç’°å¢ƒãŒãªã„å ´åˆã¯ã€`docker-compose.transcription.yml`å†…ã®`deploy.resources`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ãã ã•ã„ã€‚

### 4. ãƒ­ã‚°ç¢ºèª

```bash
# å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰
docker-compose logs -f

# æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰
docker-compose -f docker-compose.transcription.yml logs -f
```

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰

1. Discordã®æŒ‡å®šãƒãƒ£ãƒ³ãƒãƒ«ã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. BotãŒè‡ªå‹•çš„ã«æ¤œçŸ¥ã—ã¦å‡¦ç†é–‹å§‹
3. å®Œäº†é€šçŸ¥ã¨ã¨ã‚‚ã«å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ãŒ`./data/output/`ã«ä¿å­˜ã•ã‚Œã‚‹

```
ğŸµ Processing audio file: `voice-message.m4a`
â†“
âœ… Successfully converted `voice-message.m4a` to video!
   Output: `voice-message_20251011.mp4`
```

### æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰

1. Discordã®æŒ‡å®šãƒãƒ£ãƒ³ãƒãƒ«ã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. BotãŒè‡ªå‹•çš„ã«Whisper AIã§æ–‡å­—èµ·ã“ã—
3. å®Œäº†é€šçŸ¥ã¨ã¨ã‚‚ã«`./transcriptions/YYYY-MM-DD.md`ã«ä¿å­˜ã•ã‚Œã‚‹

```
ğŸ¤ Transcribing audio: `voice-message.ogg`
â†“
âœ… Transcription complete!
   Saved to: `2025-10-11.md`
```

---

## âš™ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°ä¸€è¦§

#### å…±é€šè¨­å®š

| å¤‰æ•°å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--------|-------------|------|
| `DISCORD_TOKEN` | - | Discord Bot ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå¿…é ˆï¼‰ |
| `CHANNEL_ID` | - | ç›£è¦–ã™ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«IDï¼ˆå¿…é ˆï¼‰ |
| `BOT_MODE` | `video` | å‹•ä½œãƒ¢ãƒ¼ãƒ‰ï¼ˆ`video` / `transcription`ï¼‰ |
| `MAX_FILE_SIZE` | `26214400` | æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰ |
| `PROCESSING_TIMEOUT` | `3600` | å‡¦ç†ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰ |

#### å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰

| å¤‰æ•°å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--------|-------------|------|
| `WORK_DIR` | `/work` | å‹•ç”»é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡
| `BACKGROUND_IMAGE` | `/work/assets/bg.jpg` | èƒŒæ™¯ç”»åƒãƒ‘ã‚¹ |
| `AUDIO_BITRATE` | `96` | éŸ³å£°ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆï¼ˆ64-128 kbpsï¼‰ |
| `DELETE_ON_SUCCESS` | `false` | å‡¦ç†å¾Œã®ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ |

#### æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰

| å¤‰æ•°å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--------|-------------|------|
| `WHISPER_API_URL` | `http://localhost:8000` | Whisper APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |
| `WHISPER_MODEL` | `Systran/faster-whisper-medium` | ä½¿ç”¨ã™ã‚‹Whisperãƒ¢ãƒ‡ãƒ« |
| `TRANSCRIPTION_OUTPUT_DIR` | `/work/transcriptions` | Markdownä¿å­˜å…ˆ |

---

## ğŸ‘¨â€ğŸ’» é–‹ç™º

### é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **VSCode DevContainer** ã‚’ä½¿ç”¨ã—ãŸé–‹ç™ºç’°å¢ƒã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

1. **VSCode DevContainerã‚’é–‹ã**

```bash
code .
# ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ (Cmd/Ctrl+Shift+P) ã‹ã‚‰ "Dev Containers: Reopen in Container" ã‚’é¸æŠ
```

DevContainerã«ã¯ä»¥ä¸‹ãŒãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ï¼š
- Python 3.12
- uv (é«˜é€Ÿãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼)
- FFmpeg
- é–‹ç™ºãƒ„ãƒ¼ãƒ« (Ruff, mypy, pytest)

2. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

```bash
uv sync
```

3. **pre-commitã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

```bash
pre-commit install
```

### ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

```bash
# ãƒªãƒ³ãƒˆ
uv run ruff check .

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
uv run ruff format .

# å‹ãƒã‚§ãƒƒã‚¯
uv run mypy src tests
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
voice-diary-bot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __main__.py          # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ bot.py               # Botã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ settings.py          # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ ffmpeg_runner.py     # å‹•ç”»å¤‰æ›
â”‚   â”œâ”€â”€ transcription.py     # æ–‡å­—èµ·ã“ã—
â”‚   â””â”€â”€ storage.py           # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_bot.py
â”‚   â”œâ”€â”€ test_ffmpeg_runner.py
â”‚   â”œâ”€â”€ test_transcription.py  # 10ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ conftest.py
â”œâ”€â”€ .claude/                 # Claude AIè¨­å®š
â”œâ”€â”€ docker-compose.yml       # å‹•ç”»ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰ç”¨
â”œâ”€â”€ docker-compose.transcription.yml  # æ–‡å­—èµ·ã“ã—ãƒ¢ãƒ¼ãƒ‰ç”¨
â””â”€â”€ README.md
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
uv run pytest

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
uv run pytest tests/test_transcription.py

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
uv run pytest --cov=src --cov-report=html
```

### ãƒ†ã‚¹ãƒˆæ¦‚è¦

- **åˆè¨ˆ**: 28ãƒ†ã‚¹ãƒˆ
  - `test_ffmpeg_runner.py`: 18ãƒ†ã‚¹ãƒˆ
  - `test_transcription.py`: 10ãƒ†ã‚¹ãƒˆ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: ä¸»è¦æ©Ÿèƒ½ã®å…¨ã¦ã‚’ã‚«ãƒãƒ¼

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

<div align="center">

**[â¬† ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹](#discord-voice-diary-bot)**

Made with â¤ï¸ by ekity1002

</div>
